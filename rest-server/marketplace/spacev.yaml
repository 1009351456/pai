prerequisites : 
  - protocol_version : v2
    name : spacev_input
    type : data
    version : 0.9.0
    contributor : Qi Chen
    description: vectors
    uri : hdfs://xxx/spacev_input
  - protocol_version : v2
    name : spacev_config
    type : data
    version : 0.8.0
    contributor : Qi Chen
    description: configs
    uri : hdfs://xxx/spacev_config
  - protocol_version : v2
    name : spacev_example
    type : dockerimage
    version : 0.9.0
    description: spacev
    uri : openpai/pai.example.spacev

job : 
  protocol_version: v2
  name : spacev_vectorsearch
  type : job
  version : 0.9.0
  contributor : Qi Chen
  description : spacev, vector search
  parameters :
    num_of_worker: 1
    retryCount: 1 

  tasks :
    - name: worker
      data : spacev_input, spacev_config
      dockerimage : spacev_example
      resource: 
        instances : $job.parameters.num_of_worker
        resourcePerInstance: {cpu: 16, memoryMB: 8192, gpu: 0}
      env:
        
      command:
        - singlebox spacev_config
